"use strict";(globalThis["webpackChunkemarket"]=globalThis["webpackChunkemarket"]||[]).push([[703],{649:(e,t,a)=>{a.d(t,{Z:()=>Q});var o=a(9835),l=a(6970);const s={class:"q-pr-sm"};function i(e,t,a,i,n,r){const d=(0,o.up)("q-th"),c=(0,o.up)("q-tr"),m=(0,o.up)("q-icon"),u=(0,o.up)("q-item-section"),p=(0,o.up)("q-item-label"),g=(0,o.up)("q-item"),f=(0,o.up)("q-list"),w=(0,o.up)("q-btn-dropdown"),h=(0,o.up)("q-btn"),b=(0,o.up)("q-td"),y=(0,o.up)("q-input"),q=(0,o.up)("q-table"),v=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(q,{title:e.title,rows:e.rows,columns:e.columns,filter:e.filter,"rows-per-page-options":e.rowsPerPage,"row-key":e.rowKey,style:(0,l.j5)(e.height>0?`height: ${e.height}px`:"")},(0,o.Nv)({_:2},[e.actions.length>0?{name:"header",fn:(0,o.w5)((e=>[(0,o.Wm)(c,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{"auto-width":""}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.cols,(t=>((0,o.wg)(),(0,o.j4)(d,{key:t.name,props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])]))}:void 0,e.actions.length>0?{name:"body",fn:(0,o.w5)((t=>[(0,o.Wm)(c,{props:t},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{"auto-width":""},{default:(0,o.w5)((()=>[e.actions.length>1?((0,o.wg)(),(0,o.j4)(w,{key:0,size:"sm",color:"primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.actions,((e,a)=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:a,clickable:"",onClick:a=>e.action(t.row)},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{color:"primary",name:e.icon},null,8,["name"])])),_:2},1024),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[v]]))),128))])),_:2},1024)])),_:2},1024)):((0,o.wg)(),(0,o.j4)(h,{key:1,dense:"",class:(0,l.C_)(e.actions[0].class),onClick:a=>e.actions[0].action(t.row),flat:"","icon-right":e.actions[0].icon,size:"md"},{default:(0,o.w5)((()=>[(0,o._)("span",s,(0,l.zw)(e.actions[0].label),1)])),_:2},1032,["class","onClick","icon-right"]))])),_:2},1024),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.cols,(e=>((0,o.wg)(),(0,o.j4)(b,{key:e.name,props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.value),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])]))}:void 0,e.showFilter?{name:"top-right",fn:(0,o.w5)((()=>[(0,o.Wm)(y,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),placeholder:"Pesquisar"},{append:(0,o.w5)((()=>[(0,o.Wm)(m,{name:"search"})])),_:1},8,["modelValue"])]))}:void 0]),1032,["title","rows","columns","filter","rows-per-page-options","row-key","style"])}var n=a(499);const r=(0,o.aZ)({name:"DataTable",props:{title:{type:String,required:!0},rows:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},rowKey:{type:String,default:"id"},actions:{type:Array,default:()=>[]},rowsPerPage:{type:Array,default:()=>[5,10,25,50,100]},height:{type:Number,default:0},showFilter:{type:Boolean,default:!0}},setup(){const e=(0,n.iH)("");return{filter:e}}});var d=a(1639),c=a(1746),m=a(9546),u=a(1682),p=a(7220),g=a(8479),f=a(3246),w=a(490),h=a(1233),b=a(2857),y=a(3115),q=a(8879),v=a(6611),_=a(2146),k=a(9984),Z=a.n(k);const W=(0,d.Z)(r,[["render",i]]),Q=W;Z()(r,"components",{QTable:c.Z,QTr:m.Z,QTh:u.Z,QTd:p.Z,QBtnDropdown:g.Z,QList:f.Z,QItem:w.Z,QItemSection:h.Z,QIcon:b.Z,QItemLabel:y.Z,QBtn:q.Z,QInput:v.Z}),Z()(r,"directives",{ClosePopup:_.Z})},9335:(e,t,a)=>{a.d(t,{Z:()=>Z});var o=a(9835),l=a(6970);const s={class:"text-h6"},i=(0,o._)("div",{class:"offset-md-2"},null,-1),n=(0,o._)("span",{class:"q-pl-sm"}," Voltar ",-1),r=(0,o._)("span",{class:"q-pr-sm"}," Salvar ",-1),d=(0,o._)("div",{class:"offset-md-2"},null,-1);function c(e,t,a,c,m,u){const p=(0,o.up)("q-space"),g=(0,o.up)("q-btn"),f=(0,o.up)("q-bar"),w=(0,o.up)("q-form"),h=(0,o.up)("q-card-section"),b=(0,o.up)("q-card-actions"),y=(0,o.up)("q-card"),q=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)(q,{modelValue:e.dialogOpened,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dialogOpened=t),maximized:!0,persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"bg-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"bg-primary text-white q-pa-lg"},{default:(0,o.w5)((()=>[(0,o._)("div",s,(0,l.zw)(e.title),1),(0,o.Wm)(p),(0,o.Wm)(g,{onClick:e.cancelButton,dense:"",flat:"",icon:"close",size:"md",disable:e.loading},null,8,["onClick","disable"])])),_:1}),(0,o.Wm)(h,{class:"q-pt-lg"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{onSubmit:e.submitForm,ref:"form",class:"row"},{default:(0,o.w5)((()=>[(0,o._)("div",{class:"col-12 col-sm-8 offset-sm-2 q-pa-sm q-pt-lg q-pb-lg",style:(0,l.j5)(`background-color: ${e.background}`)},[(0,o.WI)(e.$slots,"default")],4)])),_:3},8,["onSubmit"])])),_:3}),(0,o.Wm)(b,{style:{"border-top":"1px solid lightgray"},align:"right",class:"bg-white text-teal q-pa-md q-mb-sm q-mt-md"},{default:(0,o.w5)((()=>[i,(0,o.Wm)(g,{class:"text-black",style:{"background-color":"#cfcfcf"},onClick:e.cancelButton,flat:"",icon:"arrow_back_ios",size:"md",disable:e.loading},{default:(0,o.w5)((()=>[n])),_:1},8,["onClick","disable"]),(0,o.Wm)(p),e.showSaveButton?((0,o.wg)(),(0,o.j4)(g,{key:0,class:"bg-positive text-white",onClick:e.saveButton,flat:"","icon-right":"save",size:"md",disable:e.loading,loading:e.loading},{default:(0,o.w5)((()=>[r])),_:1},8,["onClick","disable","loading"])):(0,o.kq)("",!0),d])),_:1})])),_:3})])),_:3},8,["modelValue"])}const m=(0,o.aZ)({name:"FormDialog",data(){return{dialogOpened:this.dialog,loading:!1}},methods:{async submitForm(){this.loading=!0;let e=await this.save();1==e&&this.closeModal(),this.loading=!1},saveButton(){this.$refs.form.submit()},cancelButton(){this.cancel(),this.closeModal()},closeModal(){this.loading=!1,this.$emit("update:dialog",!1)}},watch:{dialog(e){this.dialogOpened=e}},props:{title:{type:String,default:""},dialog:{type:Boolean,default:!1},save:{type:Function,default:()=>{}},cancel:{type:Function,default:()=>{}},showSaveButton:{type:Boolean,default:!0},background:{type:String,default:"#ededed"}}});var u=a(1639),p=a(2074),g=a(4458),f=a(4526),w=a(136),h=a(8879),b=a(3190),y=a(8326),q=a(1821),v=a(9984),_=a.n(v);const k=(0,u.Z)(m,[["render",c]]),Z=k;_()(m,"components",{QDialog:p.Z,QCard:g.Z,QBar:f.Z,QSpace:w.Z,QBtn:h.Z,QCardSection:b.Z,QForm:y.Z,QCardActions:q.Z})},6703:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var o=a(9835);const l={class:"q-pa-md"},s={class:"row q-mt-md"},i={class:"col-12 col-md-12 text-right"},n=(0,o._)("span",{class:"q-pl-sm"}," Cadastro ",-1),r={class:"row q-mt-md"},d={class:"col-12 col-md-12"},c={class:"row"},m={class:"col-12 col-md-6 offset-md-1 q-pa-sm"},u={class:"col-12 col-md-4 q-pa-sm"};function p(e,t,a,p,g,f){const w=(0,o.up)("q-btn"),h=(0,o.up)("DataTable"),b=(0,o.up)("q-page"),y=(0,o.up)("q-input"),q=(0,o.up)("FormDialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[(0,o._)("div",l,[(0,o._)("div",s,[(0,o._)("div",i,[(0,o.Wm)(w,{onClick:t[0]||(t[0]=()=>this.dialog=!0),class:"bg-positive text-white",flat:"",icon:"add",size:"md"},{default:(0,o.w5)((()=>[n])),_:1})])]),(0,o._)("div",r,[(0,o._)("div",d,[(0,o.Wm)(h,{title:"Tipos de Produtos",columns:e.columns,rows:e.rows,actions:e.actions},null,8,["columns","rows","actions"])])])])])),_:1}),(0,o.Wm)(q,{title:"Tipo de Produto",save:e.save,dialog:e.dialog,"onUpdate:dialog":t[3]||(t[3]=t=>e.dialog=t)},{default:(0,o.w5)((()=>[(0,o._)("div",c,[(0,o._)("div",m,[(0,o.Wm)(y,{modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.name=t),class:"bg-white",outlined:"",label:"Nome",rules:[e=>e&&e.length>0]||0,"hide-bottom-space":""},null,8,["modelValue","rules"])]),(0,o._)("div",u,[(0,o.Wm)(y,{modelValue:e.form.tax,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.tax=t),type:"tel",class:"bg-white",outlined:"",label:"Taxa de Imposto (%)",mask:"###.###.###.###,##",maxlength:"5","reverse-fill-mask":"","input-class":"text-right",rules:[e=>e&&e.length>0]||0,"hide-bottom-space":""},null,8,["modelValue","rules"])])])])),_:1},8,["save","dialog"])],64)}a(8964),a(2809);var g=a(649),f=a(9335),w=a(1569);const h=(0,o.aZ)({name:"ProductTypePage",data(){return{rows:[],actions:[{label:"Editar",icon:"edit",action:e=>{this.editMode=!0,this.dialog=!0;let t=JSON.stringify(e);t=JSON.parse(t),t.tax=parseFloat(t.tax).toLocaleString("pt-br",{minimumFractionDigits:2}),console.log(t),this.form=t}},{label:"Remover",icon:"delete",action:e=>{this.$q.dialog({title:"Remover Tipo de Produto",message:`Tem certeza que deseja remover ${e.name}?`,ok:{flat:!0,label:"Sim",color:"green"},cancel:{flat:!0,label:"Não",color:"green"},persistent:!0}).onOk((()=>{let t=this.rows.indexOf(e);w.api.get(`product/type/disable/${e.id}`).then((e=>{this.rows.splice(t,1)}))}))}}],dialog:!1,form:{id:0,name:"",tax:""},originalForm:""}},created(){this.originalForm=JSON.stringify(this.form),this.loadData()},methods:{loadData(){w.api.get("/product/type/list").then((e=>{this.rows=e.data.data}))},async save(){let e=JSON.stringify(this.form);e=JSON.parse(e),e.tax=e.tax.replaceAll(".","").replaceAll(",",".");let t=await w.api.post("/product/type/store",e);return this.loadData(),t.data.ok?(this.$q.notify({type:"positive",position:"bottom",message:"Sucesso!",timeout:2e3}),this.form=JSON.parse(this.originalForm),!0):(this.$q.notify({type:"warning",position:"bottom",message:t.data.msg,timeout:2e3}),!1)}},setup(){const e=[{name:"id",required:!0,label:"Cód.",align:"center",field:e=>e.id,format:e=>`${e}`,sortable:!0},{name:"name",required:!0,label:"Nome",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"tax",required:!0,label:"Taxa de Imposto",align:"right",field:e=>e.tax,format:e=>{var t=parseFloat(e);return isNaN(t)?"-":`${t.toLocaleString("pt-br",{minimumFractionDigits:2})}%`},sortable:!0}];return{columns:e}},components:{DataTable:g.Z,FormDialog:f.Z}});var b=a(1639),y=a(9885),q=a(8879),v=a(6611),_=a(8149),k=a(9984),Z=a.n(k);const W=(0,b.Z)(h,[["render",p]]),Q=W;Z()(h,"components",{QPage:y.Z,QBtn:q.Z,QInput:v.Z,QField:_.Z})}}]);